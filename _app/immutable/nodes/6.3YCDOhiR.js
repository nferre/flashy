import{n as Z,s as F,a as ge,u as _e,g as he,b as ve,i as x,D as we,r as be,B as ne,E as $e,c as oe,o as ke}from"../chunks/scheduler.BJ4o6Ke-.js";import{S as q,i as J,e as g,c as _,a as v,d as p,n as E,g as L,A as K,k as D,l as A,t as R,s as I,v as M,b as U,f as T,w as V,h as d,x as z,y as P,j as te,o as le,m as ae}from"../chunks/index.0F_hPGMl.js";import{I as ie,s as Ee}from"../chunks/icon_streak.vxk_WnGV.js";import{w as Ce}from"../chunks/index.C3yRvrlX.js";import{g as ye}from"../chunks/entry.CsP3xbBJ.js";import{p as Se}from"../chunks/stores.BW0MN_7f.js";import{d as fe}from"../chunks/deck_store.DcWDCF38.js";const de=typeof window<"u";let Ie=de?()=>window.performance.now():()=>Date.now(),pe=de?t=>requestAnimationFrame(t):Z;const G=new Set;function me(t){G.forEach(e=>{e.c(t)||(G.delete(e),e.f())}),G.size!==0&&pe(me)}function Te(t){let e;return G.size===0&&pe(me),{promise:new Promise(s=>{G.add(e={c:t,f:s})}),abort(){G.delete(e)}}}function De(t){let e,s,o,r,n;const i=t[2].default,a=ge(i,t,t[1],null);return{c(){e=g("button"),a&&a.c(),this.h()},l(l){e=_(l,"BUTTON",{class:!0});var f=v(e);a&&a.l(f),f.forEach(p),this.h()},h(){E(e,"class",s=`cursor-default w-full h-4/5 ${t[0]==!0?"transition-colors":"select-none bg-slate-200 text-slate-200 rounded size-full"}`)},m(l,f){L(l,e,f),a&&a.m(e,null),o=!0,r||(n=K(e,"click",t[3]),r=!0)},p(l,[f]){a&&a.p&&(!o||f&2)&&_e(a,i,l,l[1],o?ve(i,l[1],f,null):he(l[1]),null),(!o||f&1&&s!==(s=`cursor-default w-full h-4/5 ${l[0]==!0?"transition-colors":"select-none bg-slate-200 text-slate-200 rounded size-full"}`))&&E(e,"class",s)},i(l){o||(D(a,l),o=!0)},o(l){A(a,l),o=!1},d(l){l&&p(e),a&&a.d(l),r=!1,n()}}}function Ae(t,e,s){let{$$slots:o={},$$scope:r}=e,{spoiler_visible:n}=e;const i=()=>s(0,n=!0);return t.$$set=a=>{"spoiler_visible"in a&&s(0,n=a.spoiler_visible),"$$scope"in a&&s(1,r=a.$$scope)},[n,r,o,i]}class W extends q{constructor(e){super(),J(this,e,Ae,De,F,{spoiler_visible:0})}}function Me(t){let e,s=(t[0]!=null?t[1]?t[0].poul:t[0].syndrome:"loading...")+"",o;return{c(){e=g("span"),o=R(s)},l(r){e=_(r,"SPAN",{});var n=v(e);o=U(n,s),n.forEach(p)},m(r,n){L(r,e,n),d(e,o)},p(r,n){n&3&&s!==(s=(r[0]!=null?r[1]?r[0].poul:r[0].syndrome:"loading...")+"")&&te(o,s)},d(r){r&&p(e)}}}function Ve(t){let e,s=(t[0]!=null?t[1]?t[0].langue:t[0].pdt:"loading...")+"",o;return{c(){e=g("span"),o=R(s)},l(r){e=_(r,"SPAN",{});var n=v(e);o=U(n,s),n.forEach(p)},m(r,n){L(r,e,n),d(e,o)},p(r,n){n&3&&s!==(s=(r[0]!=null?r[1]?r[0].langue:r[0].pdt:"loading...")+"")&&te(o,s)},d(r){r&&p(e)}}}function ze(t){let e,s=(t[0]!=null?t[1]?t[0].symptome:t[0].point_accu:"loading...")+"",o;return{c(){e=g("span"),o=R(s)},l(r){e=_(r,"SPAN",{});var n=v(e);o=U(n,s),n.forEach(p)},m(r,n){L(r,e,n),d(e,o)},p(r,n){n&3&&s!==(s=(r[0]!=null?r[1]?r[0].symptome:r[0].point_accu:"loading...")+"")&&te(o,s)},d(r){r&&p(e)}}}function Pe(t){let e,s,o,r=t[3][0]+"",n,i,a,l,f,c,u=t[3][1]+"",m,h,$,y,C,S,Q=t[3][2]+"",k,H,N,Y;return a=new W({props:{spoiler_visible:t[2],$$slots:{default:[Me]},$$scope:{ctx:t}}}),$=new W({props:{spoiler_visible:t[2],$$slots:{default:[Ve]},$$scope:{ctx:t}}}),N=new W({props:{spoiler_visible:t[2],$$slots:{default:[ze]},$$scope:{ctx:t}}}),{c(){e=g("div"),s=g("div"),o=g("h1"),n=R(r),i=I(),M(a.$$.fragment),l=I(),f=g("div"),c=g("h1"),m=R(u),h=I(),M($.$$.fragment),y=I(),C=g("div"),S=g("h1"),k=R(Q),H=I(),M(N.$$.fragment),this.h()},l(w){e=_(w,"DIV",{class:!0});var b=v(e);s=_(b,"DIV",{});var O=v(s);o=_(O,"H1",{class:!0});var B=v(o);n=U(B,r),B.forEach(p),i=T(O),V(a.$$.fragment,O),O.forEach(p),l=T(b),f=_(b,"DIV",{});var j=v(f);c=_(j,"H1",{class:!0});var se=v(c);m=U(se,u),se.forEach(p),h=T(j),V($.$$.fragment,j),j.forEach(p),y=T(b),C=_(b,"DIV",{});var X=v(C);S=_(X,"H1",{class:!0});var re=v(S);k=U(re,Q),re.forEach(p),H=T(X),V(N.$$.fragment,X),X.forEach(p),b.forEach(p),this.h()},h(){E(o,"class","text-center font-bold text-md mb-4"),E(c,"class","text-center font-bold text-md mb-4"),E(S,"class","text-center font-bold text-md mb-4"),E(e,"class","flex flex-col justify-around h-full w-[70%] mx-auto")},m(w,b){L(w,e,b),d(e,s),d(s,o),d(o,n),d(s,i),z(a,s,null),d(e,l),d(e,f),d(f,c),d(c,m),d(f,h),z($,f,null),d(e,y),d(e,C),d(C,S),d(S,k),d(C,H),z(N,C,null),Y=!0},p(w,[b]){const O={};b&4&&(O.spoiler_visible=w[2]),b&19&&(O.$$scope={dirty:b,ctx:w}),a.$set(O);const B={};b&4&&(B.spoiler_visible=w[2]),b&19&&(B.$$scope={dirty:b,ctx:w}),$.$set(B);const j={};b&4&&(j.spoiler_visible=w[2]),b&19&&(j.$$scope={dirty:b,ctx:w}),N.$set(j)},i(w){Y||(D(a.$$.fragment,w),D($.$$.fragment,w),D(N.$$.fragment,w),Y=!0)},o(w){A(a.$$.fragment,w),A($.$$.fragment,w),A(N.$$.fragment,w),Y=!1},d(w){w&&p(e),P(a),P($),P(N)}}}function Le(t,e,s){let{card:o}=e,{recto:r=!1}=e,n=!1,i=r?["Poul","Langue","Symptome"]:["Syndrome","Principes de traitement","Point d'acupuncture"];return t.$$set=a=>{"card"in a&&s(0,o=a.card),"recto"in a&&s(1,r=a.recto)},t.$$.update=()=>{t.$$.dirty&1&&s(2,n=o?o.poul:!1)},[o,r,n,i]}class ce extends q{constructor(e){super(),J(this,e,Le,Pe,F,{card:0,recto:1})}}function Ne(t){let e,s,o,r,n,i,a,l,f;return n=new ce({props:{spoiler_visible:t[2],card:t[1],recto:!0}}),l=new ce({props:{card:t[1],spoiler_visible:t[2]}}),{c(){e=g("section"),s=g("div"),o=g("div"),r=g("div"),M(n.$$.fragment),i=I(),a=g("div"),M(l.$$.fragment),this.h()},l(c){e=_(c,"SECTION",{class:!0});var u=v(e);s=_(u,"DIV",{class:!0});var m=v(s);o=_(m,"DIV",{class:!0});var h=v(o);r=_(h,"DIV",{class:!0});var $=v(r);V(n.$$.fragment,$),$.forEach(p),i=T(h),a=_(h,"DIV",{class:!0});var y=v(a);V(l.$$.fragment,y),y.forEach(p),h.forEach(p),m.forEach(p),u.forEach(p),this.h()},h(){E(r,"class","absolute backface-hidden w-full h-full text-black bg-slate-50 rounded-xl"),E(a,"class","text-black absolute my-rotate-y-180 backface-hidden w-full h-full overflow-hidden bg-slate-50 rounded-xl"),E(o,"class","border-slate-500 border-2 rounded-lg relative preserve-3d w-full h-full duration-1000"),le(o,"transform",t[0]?"rotateY(180deg)":""),E(s,"class","size-full bg-transparent group perspective"),E(e,"class","w-[95%] sm:w-[60%] h-[80%] flex justify-center items-center text-white")},m(c,u){L(c,e,u),d(e,s),d(s,o),d(o,r),z(n,r,null),d(o,i),d(o,a),z(l,a,null),f=!0},p(c,[u]){const m={};u&4&&(m.spoiler_visible=c[2]),u&2&&(m.card=c[1]),n.$set(m);const h={};u&2&&(h.card=c[1]),u&4&&(h.spoiler_visible=c[2]),l.$set(h),u&1&&le(o,"transform",c[0]?"rotateY(180deg)":"")},i(c){f||(D(n.$$.fragment,c),D(l.$$.fragment,c),f=!0)},o(c){A(n.$$.fragment,c),A(l.$$.fragment,c),f=!1},d(c){c&&p(e),P(n),P(l)}}}function Oe(t,e,s){let{fliped:o=!1}=e,{card:r}=e,{spoiler_visible:n}=e;return t.$$set=i=>{"fliped"in i&&s(0,o=i.fliped),"card"in i&&s(1,r=i.card),"spoiler_visible"in i&&s(2,n=i.spoiler_visible)},[o,r,n]}class je extends q{constructor(e){super(),J(this,e,Oe,Ne,F,{fliped:0,card:1,spoiler_visible:2})}}const He="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3ctitle%3eic_fluent_arrow_clockwise_24_regular%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cg%20id='üîç-System-Icons'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='ic_fluent_arrow_clockwise_24_regular'%20fill='%23212121'%20fill-rule='nonzero'%3e%3cpath%20d='M18.6195264,3.31842271%20C19.0080059,3.31842271%2019.3290603,3.60710385%2019.3798716,3.9816481%20L19.3868766,4.08577298%20L19.3868766,6.97963208%20C19.3868766,7.36811161%2019.0981955,7.68916605%2018.7236513,7.73997735%20L18.6195264,7.74698235%20L15.7256673,7.74698235%20C15.3018714,7.74698235%2014.958317,7.40342793%2014.958317,6.97963208%20C14.958317,6.59115255%2015.2469981,6.27009811%2015.6215424,6.21928681%20L15.7256673,6.21228181%20L16.7044011,6.21182461%20C13.7917384,3.87107476%209.52212532,4.05209336%206.81933829,6.75488039%20C3.92253872,9.65167996%203.92253872,14.34832%206.81933829,17.2451196%20C9.71613786,20.1419192%2014.4127779,20.1419192%2017.3095775,17.2451196%20C19.0725398,15.4821573%2019.8106555,12.9925923%2019.3476248,10.58925%20C19.2674502,10.173107%2019.5398064,9.77076216%2019.9559494,9.69058758%20C20.3720923,9.610413%2020.7744372,9.88276918%2020.8546118,10.2989121%20C21.4129973,13.1971899%2020.5217103,16.2033812%2018.3947747,18.3303168%20C14.8986373,21.8264542%209.23027854,21.8264542%205.73414113,18.3303168%20C2.23800371,14.8341794%202.23800371,9.16582064%205.73414113,5.66968323%20C9.05475132,2.34907304%2014.3349409,2.18235834%2017.8523166,5.16953912%20L17.8521761,4.08577298%20C17.8521761,3.66197713%2018.1957305,3.31842271%2018.6195264,3.31842271%20Z'%20id='üé®-Color'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Be="data:image/svg+xml,%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2092.55578927363274%2021.718335948358686'%20width='185.11157854726548'%20height='43.43667189671737'%3e%3c!--%20svg-source:excalidraw%20--%3e%3cdefs%3e%3cstyle%20class='style-fonts'%3e%20@font-face%20{%20font-family:%20'Virgil';%20src:%20url('https://excalidraw.com/Virgil.woff2');%20}%20@font-face%20{%20font-family:%20'Cascadia';%20src:%20url('https://excalidraw.com/Cascadia.woff2');%20}%20@font-face%20{%20font-family:%20'Assistant';%20src:%20url('https://excalidraw.com/Assistant-Regular.woff2');%20}%20%3c/style%3e%3c/defs%3e%3cg%20stroke-linecap='round'%3e%3cg%20transform='translate(82.54247040267103%2011.829091765492137)%20rotate(0%20-36.25%20-0.625)'%3e%3cpath%20d='M0.01%20-0.28%20C-11.82%20-0.31,%20-59.99%200.03,%20-71.91%20-0.18%20M-1.44%20-1.48%20C-13.31%20-1.82,%20-60.83%20-1.92,%20-72.54%20-1.74'%20stroke='%231e1e1e'%20stroke-width='4'%20fill='none'%3e%3c/path%3e%3c/g%3e%3cg%20transform='translate(82.54247040267103%2011.829091765492137)%20rotate(0%20-36.25%20-0.625)'%3e%3cpath%20d='M-49.09%20-10.4%20C-54.88%20-7.45,%20-57.94%20-4.76,%20-72.54%20-1.74%20M-49.09%20-10.4%20C-55.34%20-7.17,%20-61.78%20-5.58,%20-72.54%20-1.74'%20stroke='%231e1e1e'%20stroke-width='4'%20fill='none'%3e%3c/path%3e%3c/g%3e%3cg%20transform='translate(82.54247040267103%2011.829091765492137)%20rotate(0%20-36.25%20-0.625)'%3e%3cpath%20d='M-49.01%206.7%20C-54.82%205.78,%20-57.89%204.59,%20-72.54%20-1.74%20M-49.01%206.7%20C-55.12%205.22,%20-61.59%202.09,%20-72.54%20-1.74'%20stroke='%231e1e1e'%20stroke-width='4'%20fill='none'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3cmask%3e%3c/mask%3e%3c/svg%3e";function Re(t){let e,s,o=`<img src="${Be}" alt="back arrow" class="size-16"/>`,r,n,i,a,l=`<img src="${He}" alt="flip arrow" class="size-10"/>`,f,c;return{c(){e=g("div"),s=g("a"),s.innerHTML=o,r=I(),n=g("progress"),i=I(),a=g("button"),a.innerHTML=l,this.h()},l(u){e=_(u,"DIV",{class:!0});var m=v(e);s=_(m,"A",{href:!0,"data-svelte-h":!0}),ae(s)!=="svelte-147hpts"&&(s.innerHTML=o),r=T(m),n=_(m,"PROGRESS",{class:!0}),v(n).forEach(p),i=T(m),a=_(m,"BUTTON",{"data-svelte-h":!0}),ae(a)!=="svelte-1friszk"&&(a.innerHTML=l),m.forEach(p),this.h()},h(){E(s,"href","/flashy/app"),n.value=t[2],E(n,"class","m-5 rounded border-2 border-slate-600"),E(e,"class","flex items-center")},m(u,m){L(u,e,m),d(e,s),d(e,r),d(e,n),d(e,i),d(e,a),f||(c=K(a,"click",function(){x(t[1])&&t[1].apply(this,arguments)}),f=!0)},p(u,[m]){t=u,m&4&&(n.value=t[2])},i:Z,o:Z,d(u){u&&p(e),f=!1,c()}}}function Ue(t,e,s){let o,r=Z,n=()=>(r(),r=we(i,l=>s(2,o=l)),i);t.$$.on_destroy.push(()=>r());let{progress:i}=e;n();let{toggle:a}=e;return t.$$set=l=>{"progress"in l&&n(s(0,i=l.progress)),"toggle"in l&&s(1,a=l.toggle)},[i,a,o]}class Ge extends q{constructor(e){super(),J(this,e,Ue,Re,F,{progress:0,toggle:1})}}function Fe(t){let e,s,o,r,n,i,a,l,f;return o=new ie({props:{mode:"check",size:"size-16 cursor-pointer"}}),i=new ie({props:{mode:"cross",size:"size-16 cursor-pointer"}}),{c(){e=g("div"),s=g("button"),M(o.$$.fragment),r=I(),n=g("button"),M(i.$$.fragment),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);s=_(u,"BUTTON",{});var m=v(s);V(o.$$.fragment,m),m.forEach(p),r=T(u),n=_(u,"BUTTON",{});var h=v(n);V(i.$$.fragment,h),h.forEach(p),u.forEach(p),this.h()},h(){E(e,"class","flex w-full justify-around w-[95%] sm:w-[30%]")},m(c,u){L(c,e,u),d(e,s),z(o,s,null),d(e,r),d(e,n),z(i,n,null),a=!0,l||(f=[K(s,"click",function(){x(t[0])&&t[0].apply(this,arguments)}),K(n,"click",function(){x(t[0])&&t[0].apply(this,arguments)})],l=!0)},p(c,[u]){t=c},i(c){a||(D(o.$$.fragment,c),D(i.$$.fragment,c),a=!0)},o(c){A(o.$$.fragment,c),A(i.$$.fragment,c),a=!1},d(c){c&&p(e),P(o),P(i),l=!1,be(f)}}}function qe(t,e,s){let{next_card:o}=e;return t.$$set=r=>{"next_card"in r&&s(0,o=r.next_card)},[o]}class Je extends q{constructor(e){super(),J(this,e,qe,Fe,F,{next_card:0})}}function ue(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ye(t){const e=t-1;return e*e*e+1}function ee(t,e){if(t===e||t!==t)return()=>t;const s=typeof t;if(s!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const o=e.map((r,n)=>ee(t[n],r));return r=>o.map(n=>n(r))}if(s==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ue(t)&&ue(e)){t=t.getTime(),e=e.getTime();const n=e-t;return i=>new Date(t+i*n)}const o=Object.keys(e),r={};return o.forEach(n=>{r[n]=ee(t[n],e[n])}),n=>{const i={};return o.forEach(a=>{i[a]=r[a](n)}),i}}if(s==="number"){const o=e-t;return r=>t+r*o}throw new Error(`Cannot interpolate ${s} values`)}function Xe(t,e={}){const s=Ce(t);let o,r=t;function n(i,a){if(t==null)return s.set(t=i),Promise.resolve();r=i;let l=o,f=!1,{delay:c=0,duration:u=400,easing:m=$e,interpolate:h=ee}=ne(ne({},e),a);if(u===0)return l&&(l.abort(),l=null),s.set(t=r),Promise.resolve();const $=Ie()+c;let y;return o=Te(C=>{if(C<$)return!0;f||(y=h(t,i),typeof u=="function"&&(u=u(t,i)),f=!0),l&&(l.abort(),l=null);const S=C-$;return S>u?(s.set(t=i),!1):(s.set(t=y(m(S/u))),!0)}),o.promise}return{set:n,update:(i,a)=>n(i(r,t),a),subscribe:s.subscribe}}function Ze(t){let e,s,o,r,n,i,a;return s=new Ge({props:{toggle:t[6],progress:t[4]}}),r=new je({props:{fliped:t[2],spoiler_visible:t[3],card:t[1]!=null?t[1][t[0]].card:void 0}}),i=new Je({props:{next_card:t[5]}}),{c(){e=g("div"),M(s.$$.fragment),o=I(),M(r.$$.fragment),n=I(),M(i.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var f=v(e);V(s.$$.fragment,f),o=T(f),V(r.$$.fragment,f),n=T(f),V(i.$$.fragment,f),f.forEach(p),this.h()},h(){E(e,"class","flex flex-col justify-around items-center h-screen overflow-hidden")},m(l,f){L(l,e,f),z(s,e,null),d(e,o),z(r,e,null),d(e,n),z(i,e,null),a=!0},p(l,[f]){const c={};f&4&&(c.toggle=l[6]),s.$set(c);const u={};f&4&&(u.fliped=l[2]),f&8&&(u.spoiler_visible=l[3]),f&3&&(u.card=l[1]!=null?l[1][l[0]].card:void 0),r.$set(u)},i(l){a||(D(s.$$.fragment,l),D(r.$$.fragment,l),D(i.$$.fragment,l),a=!0)},o(l){A(s.$$.fragment,l),A(r.$$.fragment,l),A(i.$$.fragment,l),a=!1},d(l){l&&p(e),P(s),P(r),P(i)}}}function Ke(t,e,s){let o,r;oe(t,Se,k=>s(12,o=k)),oe(t,fe,k=>s(13,r=k));let n=0,i,a,l=20,f=!1,c,u=!1,m,h=Number.MAX_SAFE_INTEGER;const $=Xe(0,{duration:400,easing:Ye});function y(){$.set((n+1)/l)}function C(){h>m&&(h=m)}function S(){if(s(2,f=!1),s(3,u=!1),m=Ee(c,i,n,a),C(),n==l-1){fe.update(k=>(k.timer=h,k.nb_session++,k)),h=0,ye("/flashy/app");return}s(0,n++,n),c=+new Date,y()}return ke(()=>{if(c=+new Date,localStorage.getItem("data")||localStorage.setItem("data",JSON.stringify(r.deck.map((k,H)=>({card:k.card,info:k.info,tags:k.tags,id:H})))),a=JSON.parse(localStorage.getItem("data")),o.url.searchParams.has("filter")){let k=o.url.searchParams.get("filter");s(1,i=a.filter(H=>H.tags.includes(k))),s(1,i=i.slice(0,20))}else s(1,i=a.slice(0,20));l=i.length}),[n,i,f,u,$,S,()=>s(2,f=!f)]}class nt extends q{constructor(e){super(),J(this,e,Ke,Ze,F,{})}}export{nt as component};
